"use strict";(self.webpackChunkmain_app=self.webpackChunkmain_app||[]).push([[872],{1697:(En,kt,V)=>{V.r(kt),V.d(kt,{DashboardComponent:()=>D,DrawComponent:()=>fs});var f=V(1808);let D=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=f.VBU({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[f.aNF],decls:2,vars:0,template:function(r,i){1&r&&(f.j41(0,"p"),f.EFF(1,"dashboard works!"),f.k0s())},changeDetection:0})}return t})();var Mt=V(177);function ie(){}function gt(t){return null==t?ie:function(){return this.querySelector(t)}}function Pn(){return[]}function Ht(t){return null==t?Pn:function(){return this.querySelectorAll(t)}}function Et(t){return function(){return this.matches(t)}}function Me(t){return function(e){return e.matches(t)}}var An=Array.prototype.find;function Sn(){return this.firstElementChild}var Tn=Array.prototype.filter;function On(){return Array.from(this.children)}function Ee(t){return new Array(t.length)}function Bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Hn(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Bt(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Bn(t,e,n,r,i,o,s){var a,u,b,l=new Map,h=e.length,_=o.length,w=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(w[a]=b=s.call(u,u.__data__,a,e)+"",l.has(b)?i[a]=u:l.set(b,u));for(a=0;a<_;++a)b=s.call(t,o[a],a,o)+"",(u=l.get(b))?(r[a]=u,u.__data__=o[a],l.delete(b)):n[a]=new Bt(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(w[a])===u&&(i[a]=u)}function Xn(t){return t.__data__}function Yn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Kn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Bt.prototype={constructor:Bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var se="http://www.w3.org/1999/xhtml";const Pe={svg:"http://www.w3.org/2000/svg",xhtml:se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pe.hasOwnProperty(e)?{space:Pe[e],local:t}:t}function nr(t){return function(){this.removeAttribute(t)}}function rr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ir(t,e){return function(){this.setAttribute(t,e)}}function or(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ar(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ae(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cr(t){return function(){this.style.removeProperty(t)}}function lr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fr(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _t(t,e){return t.style.getPropertyValue(e)||Ae(t).getComputedStyle(t,null).getPropertyValue(e)}function pr(t){return function(){delete this[t]}}function dr(t,e){return function(){this[t]=e}}function gr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ne(t){return t.trim().split(/^|\s+/)}function ae(t){return t.classList||new Se(t)}function Se(t){this._node=t,this._names=Ne(t.getAttribute("class")||"")}function De(t,e){for(var n=ae(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Te(t,e){for(var n=ae(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _r(t){return function(){De(this,t)}}function yr(t){return function(){Te(this,t)}}function wr(t,e){return function(){(e.apply(this,arguments)?De:Te)(this,t)}}function xr(){this.textContent=""}function br(t){return function(){this.textContent=t}}function Cr(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Mr(){this.innerHTML=""}function Er(t){return function(){this.innerHTML=t}}function Pr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Nr(){this.nextSibling&&this.parentNode.appendChild(this)}function Dr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Or(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===se&&e.documentElement.namespaceURI===se?e.createElement(t):e.createElementNS(n,t)}}function zr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oe(t){var e=Xt(t);return(e.local?zr:Or)(e)}function Rr(){return null}function $r(){var t=this.parentNode;t&&t.removeChild(this)}function Br(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wr(t){return function(){var e=this.__on;if(e){for(var o,n=0,r=-1,i=e.length;n<i;++n)o=e[n],t.type&&o.type!==t.type||o.name!==t.name?e[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?e.length=r:delete this.__on}}}function Ur(t,e,n){return function(){var i,r=this.__on,o=function Gr(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ze(t,e,n){var r=Ae(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Kr(t,e){return function(){return ze(this,t,e)}}function Qr(t,e){return function(){return ze(this,t,e.apply(this,arguments))}}Se.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ie=[null];function Q(t,e){this._groups=t,this._parents=e}function Re(){return new Q([[document.documentElement]],Ie)}Q.prototype=Re.prototype={constructor:Q,select:function oe(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,l,o=e[i],s=o.length,a=r[i]=new Array(s),h=0;h<s;++h)(u=o[h])&&(l=t.call(u,u.__data__,h,o))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new Q(r,this._parents)},selectAll:function lt(t){t="function"==typeof t?function mt(t){return function(){return function et(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Ht(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new Q(r,i)},selectChild:function Dn(t){return this.select(null==t?Sn:function Nn(t){return function(){return An.call(this.children,t)}}("function"==typeof t?t:Me(t)))},selectChildren:function In(t){return this.selectAll(null==t?On:function zn(t){return function(){return Tn.call(this.children,t)}}("function"==typeof t?t:Me(t)))},filter:function Rn(t){"function"!=typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Q(r,this._parents)},data:function Vn(t,e){if(!arguments.length)return Array.from(this,Xn);var n=e?Bn:Hn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function $n(t){return function(){return t}}(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var h=r[l],_=i[l],w=_.length,b=Yn(t.call(h,h&&h.__data__,l,r)),z=b.length,F=a[l]=new Array(z),g=s[l]=new Array(z);n(h,_,F,g,u[l]=new Array(w),b,e);for(var N,S,k=0,v=0;k<z;++k)if(N=F[k]){for(k>=v&&(v=k+1);!(S=g[v])&&++v<z;);N._next=S||null}}return(s=new Q(s,r))._enter=a,s._exit=u,s},enter:function Fn(){return new Q(this._enter||this._groups.map(Ee),this._parents)},exit:function Gn(){return new Q(this._exit||this._groups.map(Ee),this._parents)},join:function Ln(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function Wn(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=Math.min(i,r.length),a=new Array(i),u=0;u<s;++u)for(var b,l=n[u],h=r[u],_=l.length,w=a[u]=new Array(_),z=0;z<_;++z)(b=l[z]||h[z])&&(w[z]=b);for(;u<i;++u)a[u]=n[u];return new Q(a,this._parents)},selection:function jr(){return this},order:function Un(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s,r=t[e],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function qn(t){function e(_,w){return _&&w?t(_.__data__,w.__data__):!_-!w}t||(t=Kn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l,s=n[o],a=s.length,u=i[o]=new Array(a),h=0;h<a;++h)(l=s[h])&&(u[h]=l);u.sort(e)}return new Q(i,this._parents).order()},call:function Qn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Zn(){return Array.from(this)},node:function Jn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function jn(){let t=0;for(const e of this)++t;return t},empty:function tr(){return!this.node()},each:function er(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function ur(t,e){var n=Xt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?rr:nr:"function"==typeof e?n.local?ar:sr:n.local?or:ir)(n,e))},style:function hr(t,e,n){return arguments.length>1?this.each((null==e?cr:"function"==typeof e?fr:lr)(t,e,n??"")):_t(this.node(),t)},property:function mr(t,e){return arguments.length>1?this.each((null==e?pr:"function"==typeof e?gr:dr)(t,e)):this.node()[t]},classed:function vr(t,e){var n=Ne(t+"");if(arguments.length<2){for(var r=ae(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?wr:e?_r:yr)(n,e))},text:function kr(t){return arguments.length?this.each(null==t?xr:("function"==typeof t?Cr:br)(t)):this.node().textContent},html:function Ar(t){return arguments.length?this.each(null==t?Mr:("function"==typeof t?Pr:Er)(t)):this.node().innerHTML},raise:function Sr(){return this.each(Nr)},lower:function Tr(){return this.each(Dr)},append:function Ir(t){var e="function"==typeof t?t:Oe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Fr(t,e){var n="function"==typeof t?t:Oe(t),r=null==e?Rr:"function"==typeof e?e:gt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Hr(){return this.each($r)},clone:function Vr(t){return this.select(t?Xr:Br)},datum:function Yr(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function qr(t,e,n){var i,s,r=function Lr(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}(t+""),o=r.length;if(!(arguments.length<2)){for(a=e?Ur:Wr,i=0;i<o;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(i=0,h=a[u];i<o;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value},dispatch:function Zr(t,e){return this.each(("function"==typeof e?Qr:Kr)(t,e))},[Symbol.iterator]:function*Jr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s,r=t[e],i=0,o=r.length;i<o;++i)(s=r[i])&&(yield s)}};const Pt=Re;var ti={value:()=>{}};function Fe(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vt(n)}function Vt(t){this._=t}function ni(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function $e(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ti,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Vt.prototype=Fe.prototype={constructor:Vt,on:function(t,e){var i,n=this._,r=function ei(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}(t+"",n),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=$e(n[i],t.name,e);else if(null==e)for(i in n)n[i]=$e(n[i],t.name,null);return this}for(;++o<s;)if((i=(t=r[o]).type)&&(i=ni(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Vt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(o=this._[t]).length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const ri=Fe;var Yt,St,yt=0,At=0,Nt=0,He=1e3,Gt=0,ft=0,Lt=0,Dt="object"==typeof performance&&performance.now?performance:Date,Be="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ue(){return ft||(Be(ii),ft=Dt.now()+Lt)}function ii(){ft=0}function Wt(){this._call=this._time=this._next=null}function Xe(t,e,n){var r=new Wt;return r.restart(t,e,n),r}function Ve(){ft=(Gt=Dt.now())+Lt,yt=At=0;try{!function oi(){ue(),++yt;for(var e,t=Yt;t;)(e=ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yt}()}finally{yt=0,function ai(){for(var t,n,e=Yt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yt=n);St=t,ce(r)}(),ft=0}}function si(){var t=Dt.now(),e=t-Gt;e>He&&(Lt-=e,Gt=t)}function ce(t){yt||(At&&(At=clearTimeout(At)),t-ft>24?(t<1/0&&(At=setTimeout(Ve,t-Dt.now()-Lt)),Nt&&(Nt=clearInterval(Nt))):(Nt||(Gt=Dt.now(),Nt=setInterval(si,He)),yt=1,Be(Ve)))}function Ye(t,e,n){var r=new Wt;return r.restart(i=>{r.stop(),t(i+e)},e=null==e?0:+e,n),r}Wt.prototype=Xe.prototype={constructor:Wt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ue():+n)+(null==e?0:+e),!this._next&&St!==this&&(St?St._next=this:Yt=this,St=this),this._call=t,this._time=n,ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,ce())}};var ui=ri("start","end","cancel","interrupt"),ci=[],Ge=0,Ut=3;function Kt(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function li(t,e,n){var i,r=t.__transition;function s(l){var h,_,w,b;if(1!==n.state)return u();for(h in r)if((b=r[h]).name===n.name){if(b.state===Ut)return Ye(s);4===b.state?(b.state=6,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[h]):+h<e&&(b.state=6,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[h])}if(Ye(function(){n.state===Ut&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=Ut,i=new Array(w=n.tween.length),h=0,_=-1;h<w;++h)(b=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=b);i.length=_+1}}function a(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=5,1),_=-1,w=i.length;++_<w;)i[_].call(t,h);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Xe(function o(l){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:ui,tween:ci,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ge})}function he(t,e){var n=j(t,e);if(n.state>Ge)throw new Error("too late; already scheduled");return n}function nt(t,e){var n=j(t,e);if(n.state>Ut)throw new Error("too late; already running");return n}function j(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ut(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Qt,Ue=180/Math.PI,pe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qe(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ue,skewX:Math.atan(u)*Ue,scaleX:s,scaleY:a}}function Ke(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}return function(l,h){var _=[],w=[];return l=t(l),h=t(h),function o(l,h,_,w,b,z){if(l!==_||h!==w){var F=b.push("translate(",null,e,null,n);z.push({i:F-4,x:ut(l,_)},{i:F-2,x:ut(h,w)})}else(_||w)&&b.push("translate("+_+e+w+n)}(l.translateX,l.translateY,h.translateX,h.translateY,_,w),function s(l,h,_,w){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),w.push({i:_.push(i(_)+"rotate(",null,r)-2,x:ut(l,h)})):h&&_.push(i(_)+"rotate("+h+r)}(l.rotate,h.rotate,_,w),function a(l,h,_,w){l!==h?w.push({i:_.push(i(_)+"skewX(",null,r)-2,x:ut(l,h)}):h&&_.push(i(_)+"skewX("+h+r)}(l.skewX,h.skewX,_,w),function u(l,h,_,w,b,z){if(l!==_||h!==w){var F=b.push(i(b)+"scale(",null,",",null,")");z.push({i:F-4,x:ut(l,_)},{i:F-2,x:ut(h,w)})}else(1!==_||1!==w)&&b.push(i(b)+"scale("+_+","+w+")")}(l.scaleX,l.scaleY,h.scaleX,h.scaleY,_,w),l=h=null,function(b){for(var g,z=-1,F=w.length;++z<F;)_[(g=w[z]).i]=g.x(b);return _.join("")}}}var gi=Ke(function pi(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?pe:qe(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),mi=Ke(function di(t){return null!=t&&(Qt||(Qt=document.createElementNS("http://www.w3.org/2000/svg","g")),Qt.setAttribute("transform",t),t=Qt.transform.baseVal.consolidate())?qe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):pe},", ",")",")");function _i(t,e){var n,r;return function(){var i=nt(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function yi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=nt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function de(t,e,n){var r=t._id;return t.each(function(){var i=nt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return j(i,r).value[e]}}function ge(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tt(){}var Zt=1/.7,wt="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vi=/^#([0-9a-f]{3,8})$/,xi=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),bi=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Ci=new RegExp(`^rgba\\(${wt},${wt},${wt},${zt}\\)$`),ki=new RegExp(`^rgba\\(${rt},${rt},${rt},${zt}\\)$`),Mi=new RegExp(`^hsl\\(${zt},${rt},${rt}\\)$`),Ei=new RegExp(`^hsla\\(${zt},${rt},${rt},${zt}\\)$`),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Je(){return this.rgb().formatHex()}function je(){return this.rgb().formatRgb()}function It(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tn(e):3===n?new U(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xi.exec(t))?new U(e[1],e[2],e[3],1):(e=bi.exec(t))?new U(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ci.exec(t))?Jt(e[1],e[2],e[3],e[4]):(e=ki.exec(t))?Jt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Mi.exec(t))?rn(e[1],e[2]/100,e[3]/100,1):(e=Ei.exec(t))?rn(e[1],e[2]/100,e[3]/100,e[4]):Ze.hasOwnProperty(t)?tn(Ze[t]):"transparent"===t?new U(NaN,NaN,NaN,0):null}function tn(t){return new U(t>>16&255,t>>8&255,255&t,1)}function Jt(t,e,n,r){return r<=0&&(t=e=n=NaN),new U(t,e,n,r)}function jt(t,e,n,r){return 1===arguments.length?function Ni(t){return t instanceof Tt||(t=It(t)),t?new U((t=t.rgb()).r,t.g,t.b,t.opacity):new U}(t):new U(t,e,n,r??1)}function U(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function en(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}`}function nn(){const t=te(this.opacity);return`${1===t?"rgb(":"rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${1===t?")":`, ${t})`}`}function te(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pt(t){return((t=ht(t))<16?"0":"")+t.toString(16)}function rn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tt(t,e,n,r)}function on(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=It(t)),!t)return new tt;if(t instanceof tt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new tt(s,a,u,t.opacity)}function tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sn(t){return(t=(t||0)%360)<0?t+360:t}function ee(t){return Math.max(0,Math.min(1,t||0))}function me(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function an(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}ge(Tt,It,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Je,formatHex:Je,formatHex8:function Pi(){return this.rgb().formatHex8()},formatHsl:function Ai(){return on(this).formatHsl()},formatRgb:je,toString:je}),ge(U,jt,Qe(Tt,{brighter(t){return t=null==t?Zt:Math.pow(Zt,t),new U(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new U(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new U(ht(this.r),ht(this.g),ht(this.b),te(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:function Si(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}${pt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:nn,toString:nn})),ge(tt,function Di(t,e,n,r){return 1===arguments.length?on(t):new tt(t,e,n,r??1)},Qe(Tt,{brighter(t){return t=null==t?Zt:Math.pow(Zt,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new U(me(t>=240?t-240:t+120,i,r),me(t,i,r),me(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(sn(this.h),ee(this.s),ee(this.l),te(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=te(this.opacity);return`${1===t?"hsl(":"hsla("}${sn(this.h)}, ${100*ee(this.s)}%, ${100*ee(this.l)}%${1===t?")":`, ${t})`}`}}));const un=t=>()=>t;function ln(t,e){var n=e-t;return n?function cn(t,e){return function(n){return t+n*e}}(t,n):un(isNaN(t)?e:t)}const fn=function t(e){var n=function Ii(t){return 1==(t=+t)?ln:function(e,n){return n-e?function zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):un(isNaN(e)?n:e)}}(e);function r(i,o){var s=n((i=jt(i)).r,(o=jt(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=ln(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=u(h),i.opacity=l(h),i+""}}return r.gamma=t,r}(1);function hn(t){return function(e){var s,a,n=e.length,r=new Array(n),i=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=jt(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}hn(function Ti(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return an((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}}),hn(function Oi(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return an((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var _e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(_e.source,"g");function $i(t,e){var r,i,o,n=_e.lastIndex=ye.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(r=_e.exec(t))&&(i=ye.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:ut(r,i)})),n=ye.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function Fi(t){return function(e){return t(e)+""}}(u[0].x):function Ri(t){return function(){return t}}(e):(e=u.length,function(l){for(var _,h=0;h<e;++h)a[(_=u[h]).i]=_.x(l);return a.join("")})}function pn(t,e){var n;return("number"==typeof e?ut:e instanceof It?fn:(n=It(e))?(e=n,fn):$i)(t,e)}function Hi(t){return function(){this.removeAttribute(t)}}function Bi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xi(t,e,n){var r,o,i=n+"";return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Vi(t,e,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Yi(t,e,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Gi(t,e,n){var r,i,o;return function(){var s,u,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function qi(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function Ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return i._value=e,i}function Ki(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function Wi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return i._value=e,i}function Zi(t,e){return function(){he(this,t).delay=+e.apply(this,arguments)}}function Ji(t,e){return e=+e,function(){he(this,t).delay=e}}function to(t,e){return function(){nt(this,t).duration=+e.apply(this,arguments)}}function eo(t,e){return e=+e,function(){nt(this,t).duration=e}}var _o=Pt.prototype.constructor;function dn(t){return function(){this.style.removeProperty(t)}}var Io=0;function ot(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function gn(){return++Io}var st=Pt.prototype;ot.prototype=function Ro(t){return Pt().transition(t)}.prototype={constructor:ot,select:function go(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var h,_,a=r[s],u=a.length,l=o[s]=new Array(u),w=0;w<u;++w)(h=a[w])&&(_=t.call(h,h.__data__,w,a))&&("__data__"in h&&(_.__data__=h.__data__),l[w]=_,Kt(l[w],e,n,w,l,j(h,n)));return new ot(o,this._parents,e,n)},selectAll:function mo(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ht(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var h,u=r[a],l=u.length,_=0;_<l;++_)if(h=u[_]){for(var b,w=t.call(h,h.__data__,_,u),z=j(h,n),F=0,g=w.length;F<g;++F)(b=w[F])&&Kt(b,e,n,F,w,z);o.push(w),s.push(h)}return new ot(o,s,e,n)},selectChild:st.selectChild,selectChildren:st.selectChildren,filter:function ao(t){"function"!=typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new ot(r,this._parents,this._name,this._id)},merge:function uo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var w,u=e[a],l=n[a],h=u.length,_=s[a]=new Array(h),b=0;b<h;++b)(w=u[b]||l[b])&&(_[b]=w);for(;a<r;++a)s[a]=e[a];return new ot(s,this._parents,this._name,this._id)},selection:function yo(){return new _o(this._groups,this._parents)},transition:function Oo(){for(var t=this._name,e=this._id,n=gn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)if(u=s[l]){var h=j(u,e);Kt(u,t,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ot(r,this._parents,t,n)},call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:function fo(t,e){var n=this._id;return arguments.length<2?j(this.node(),n).on.on(t):this.each(function lo(t,e,n){var r,i,o=function co(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?he:nt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function Li(t,e){var n=Xt(t),r="transform"===n?mi:pn;return this.attrTween(t,"function"==typeof e?(n.local?Gi:Yi)(n,r,de(this,"attr."+t,e)):null==e?(n.local?Bi:Hi)(n):(n.local?Vi:Xi)(n,r,e))},attrTween:function Qi(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Xt(t);return this.tween(n,(r.local?qi:Ki)(r,e))},style:function Co(t,e,n){var r="transform"==(t+="")?gi:pn;return null==e?this.styleTween(t,function wo(t,e){var n,r,i;return function(){var o=_t(this,t),s=(this.style.removeProperty(t),_t(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,dn(t)):"function"==typeof e?this.styleTween(t,function xo(t,e,n){var r,i,o;return function(){var s=_t(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=_t(this,t)),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}(t,r,de(this,"style."+t,e))).each(function bo(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=nt(this,t),l=u.on,h=null==u.value[o]?a||(a=dn(e)):void 0;(l!==n||i!==h)&&(r=(n=l).copy()).on(s,i=h),u.on=r}}(this._id,t)):this.styleTween(t,function vo(t,e,n){var r,o,i=n+"";return function(){var s=_t(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function Eo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function Mo(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&function ko(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,s,n)),r}return o._value=e,o}(t,e,n??""))},text:function No(t){return this.tween("text","function"==typeof t?function Ao(t){return function(){var e=t(this);this.textContent=e??""}}(de(this,"text",t)):function Po(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function To(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function Do(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function So(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return r._value=t,r}(t))},remove:function po(){return this.on("end.remove",function ho(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function wi(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s,r=j(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((null==e?_i:yi)(n,t,e))},delay:function ji(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Ji)(e,t)):j(this.node(),e).delay},duration:function no(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?to:eo)(e,t)):j(this.node(),e).duration},ease:function io(t){var e=this._id;return arguments.length?this.each(function ro(t,e){if("function"!=typeof e)throw new Error;return function(){nt(this,t).ease=e}}(e,t)):j(this.node(),e).ease},easeVarying:function so(t){if("function"!=typeof t)throw new Error;return this.each(function oo(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;nt(this,t).ease=n}}(this._id,t))},end:function zo(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each(function(){var l=nt(this,r),h=l.on;h!==t&&((e=(t=h).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),0===i&&o()})},[Symbol.iterator]:st[Symbol.iterator]};var $o={time:null,delay:0,duration:250,ease:function Fo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ho(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Pt.prototype.interrupt=function hi(t){return this.each(function(){!function fi(t,e){var r,i,s,n=t.__transition,o=!0;if(n){for(s in e=null==e?null:e+"",n)(r=n[s]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]):o=!1;o&&delete t.__transition}}(this,t)})},Pt.prototype.transition=function Bo(t){var e,n;t instanceof ot?(e=t._id,t=t._name):(e=gn(),(n=$o).time=ue(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)(u=s[l])&&Kt(u,t,e,l,s,n||Ho(u,e));return new ot(r,this._parents,t,e)};Math;function Rt(t){return{type:t}}function Ce(t){return"string"==typeof t?new Q([[document.querySelector(t)]],[document.documentElement]):new Q([[t]],Ie)}function bt(t,e,n){this.k=t,this.x=e,this.y=n}["w","e"].map(Rt),["n","s"].map(Rt),["n","w","e","s","nw","ne","sw","se"].map(Rt),bt.prototype={constructor:bt,scale:function(t){return 1===t?this:new bt(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new bt(1,0,0);let bn=(()=>{class t{constructor(){this.points=[],this.linePaths=[],this._element=(0,f.WQX)(f.aKT),this._renderer=(0,f.WQX)(f.sFG),this.pointCreate=new f.bkB,this.afterDraw=new f.bkB}onMouseDown(n){0===n.button&&("rect"===n.target.tagName&&this.points.length>=3?(this._createPolygon(),this.clearHelperShapes()):this._addHelperShapes(n))}onMouseMove(n){let r=this._getMousePosition(n);if("rect"===n.target.tagName&&this.points.length>=3)this._renderer.setAttribute(n.target,"stroke","#0784fa");else{let i=document.querySelector("rect");i&&this._renderer.setAttribute(i,"stroke","transparent")}this.linePaths.length&&this.linePaths[this.linePaths.length-1].attr("x2",r.x).attr("y2",r.y)}keydown(n){"Backspace"===n.code&&this._removeLastLine(),"Escape"===n.code&&this.clearHelperShapes(),"Enter"===n.code&&this.points.length>=3&&(this._createPolygon(),this.clearHelperShapes())}_removeLastLine(){this.points.length&&this.linePaths.length>1&&(this.points.pop(),this.linePaths[this.linePaths.length-1].remove(),this.linePaths.pop())}_addHelperShapes(n){let r=this._getMousePosition(n);this.points.push([r.x,r.y]),1==this.points.length&&Ce(this._element.nativeElement).append("rect").attr("x",r.x-5).attr("y",r.y-5).attr("width","10").attr("height","10").attr("fill","transparent").attr("class","help");const i=Ce(this._element.nativeElement).insert("line",":nth-child(1)").attr("x1",r.x).attr("x2",r.x).attr("y1",r.y).attr("y2",r.y).attr("stroke","#0784fa").attr("class","help");this.linePaths.push(i),this.pointCreate.emit(this.points.map(o=>({x:o[0],y:o[1]})))}_createPolygon(){Ce(this._element.nativeElement).append("polygon").attr("points",this.points.join(" ")).attr("fill","#51bd83").attr("stroke","black").attr("opacity","50%").attr("stroke-width","0.2"),this.afterDraw.emit(this.points.map(n=>({x:n[0],y:n[1]})))}_getMousePosition(n){return{x:n.offsetX,y:n.offsetY}}clearHelperShapes(){document.querySelectorAll(".help").forEach(n=>{n.remove()}),this.points=[],this.linePaths=[]}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275dir=f.FsC({type:t,selectors:[["","uiCarpetSvg",""]],hostBindings:function(r,i){1&r&&f.bIt("mousedown",function(s){return i.onMouseDown(s)})("mousemove",function(s){return i.onMouseMove(s)})("keydown",function(s){return i.keydown(s)},!1,f.tSv)},outputs:{pointCreate:"pointCreate",afterDraw:"afterDraw"},standalone:!0})}return t})();const es=["svg"],ns=["imageElement"];function rs(t,e){if(1&t&&f.nrm(0,"img",5,1),2&t){const n=f.XpG();f.Y8G("src",n.imgSrc,f.B4B)}}let is=(()=>{class t{constructor(){this.imgSrc="",this.carpetWidth="1280px",this.carpetHeight="720px",this.pointCreate=new f.bkB,this.afterDraw=new f.bkB,this._renderer=(0,f.WQX)(f.sFG)}ngAfterViewInit(){this._renderer.setStyle(this.svgElem.nativeElement,"height",this.carpetHeight),this._renderer.setStyle(this.svgElem.nativeElement,"width",this.carpetWidth),this._renderer.setStyle(this.imgElem.nativeElement,"height",this.carpetHeight),this._renderer.setStyle(this.imgElem.nativeElement,"width",this.carpetWidth)}clearDraw(){this.svgDir.clearHelperShapes()}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=f.VBU({type:t,selectors:[["ui-carpet"]],viewQuery:function(r,i){if(1&r&&(f.GBs(bn,5),f.GBs(es,5),f.GBs(ns,5)),2&r){let o;f.mGM(o=f.lsd())&&(i.svgDir=o.first),f.mGM(o=f.lsd())&&(i.svgElem=o.first),f.mGM(o=f.lsd())&&(i.imgElem=o.first)}},inputs:{imgSrc:"imgSrc",carpetWidth:"carpetWidth",carpetHeight:"carpetHeight"},outputs:{pointCreate:"pointCreate",afterDraw:"afterDraw"},standalone:!0,features:[f.aNF],decls:4,vars:1,consts:[["svg",""],["imageElement",""],[1,"ui-carpet"],["style","width: 100%","class","bg-img",3,"src",4,"ngIf"],["uiCarpetSvg","","xmlns","<http://www.w3.org/2000/svg>",2,"border","1px solid black",3,"pointCreate","afterDraw"],[1,"bg-img",2,"width","100%",3,"src"]],template:function(r,i){if(1&r){const o=f.RV6();f.j41(0,"div",2),f.DNE(1,rs,2,1,"img",3),f.qSk(),f.j41(2,"svg",4,0),f.bIt("pointCreate",function(a){return f.eBV(o),f.Njj(i.pointCreate.emit(a))})("afterDraw",function(a){return f.eBV(o),f.Njj(i.afterDraw.emit(a))}),f.k0s()()}2&r&&(f.R7$(),f.Y8G("ngIf",i.imgSrc))},dependencies:[Mt.bT,bn],styles:["[_nghost-%COMP%]   .ui-carpet[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .ui-carpet[_ngcontent-%COMP%]   .bg-img[_ngcontent-%COMP%], [_nghost-%COMP%]   .ui-carpet[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}return t})();var os=V(1275),ss=V(9994),ke=V(4341);const as=["uiCarpet"];function us(t,e){if(1&t){const n=f.RV6();f.j41(0,"ui-button",9),f.bIt("btnClick",function(){f.eBV(n),f.XpG();const i=f.sdS(2);return f.Njj(i.click())}),f.EFF(1,"Upload"),f.k0s()}}function cs(t,e){if(1&t){const n=f.RV6();f.j41(0,"div")(1,"label"),f.EFF(2,"Draw distance line anywhere on the shown image, And provide your Distance in below input"),f.k0s(),f.nrm(3,"br"),f.j41(4,"div",10)(5,"ui-input",11),f.mxI("ngModelChange",function(i){f.eBV(n);const o=f.XpG();return f.DH7(o.distance,i)||(o.distance=i),f.Njj(i)}),f.k0s(),f.j41(6,"ui-button",12),f.bIt("btnClick",function(){f.eBV(n);const i=f.XpG();return f.Njj(i.findRatio())}),f.EFF(7,"Ok"),f.k0s()()()}if(2&t){const n=f.XpG();f.R7$(5),f.Y8G("disabled",!n.ratioPoints.length),f.R50("ngModel",n.distance),f.R7$(),f.Y8G("isDisabled",!n.ratioPoints.length||!n.distance)}}function ls(t,e){if(1&t&&(f.j41(0,"label"),f.EFF(1),f.k0s()),2&t){const n=f.XpG();f.R7$(),f.SpI("Area is :- ",n.area," sqft")}}let fs=(()=>{class t{constructor(){this.ratioPoints=[],this.distance="",this.distanceInPx=0,this.imageSrc="",this.showInfo=!1,this.multiplier=0,this.area=0}onPointChange(n){n.length>1&&!this.ratioPoints.length&&(this.ratioPoints=n,this.carpet.clearDraw(),this.calculations())}readURL(n){const r=n.target.files;if(r[0]){const i=r[0],o=new FileReader;o.onload=s=>{o.result&&(this.imageSrc=o.result.toString()),this.showInfo=!0},o.readAsDataURL(i)}}calculations(){if(2===this.ratioPoints.length){const n=this.ratioPoints[0].x-this.ratioPoints[1].x,r=this.ratioPoints[0].y-this.ratioPoints[1].y;this.distanceInPx=Math.sqrt(n*n+r*r),console.log("=============distanceInPx",this.distanceInPx)}}findRatio(){this.multiplier=Number(this.distance)/this.distanceInPx,this.showInfo=!1,console.log("=============multiplier",this.multiplier)}findArea(n){let r=0;for(let o=0;o<n.length;o++)r+=n[o].x*n[o===n.length-1?0:o+1].y*.5-n[o===n.length-1?0:o+1].x*n[o].y*.5;const i=Math.abs(r)*this.multiplier;console.log("======================areaInPx",i),this.area=i*this.multiplier}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=f.VBU({type:t,selectors:[["app-draw"]],viewQuery:function(r,i){if(1&r&&f.GBs(as,5),2&r){let o;f.mGM(o=f.lsd())&&(i.carpet=o.first)}},standalone:!0,features:[f.aNF],decls:10,vars:7,consts:[["selectFile",""],["holder",""],["uiCarpet",""],[1,"controls"],["type","file","accept",".jpg,.jpeg,.png",2,"display","none",3,"change","multiple"],[3,"btnClick",4,"ngIf"],[4,"ngIf"],[2,"width","100%","height","100%"],[3,"pointCreate","afterDraw","carpetHeight","carpetWidth","imgSrc"],[3,"btnClick"],[1,"d-flex-g10"],["placeholder","Distance (ft)","type","number",3,"ngModelChange","disabled","ngModel"],[3,"btnClick","isDisabled"]],template:function(r,i){if(1&r){const o=f.RV6();f.j41(0,"div",3)(1,"input",4,0),f.bIt("change",function(a){return f.eBV(o),f.Njj(i.readURL(a))}),f.k0s(),f.DNE(3,us,2,0,"ui-button",5)(4,cs,8,3,"div",6)(5,ls,2,1,"label",6),f.k0s(),f.j41(6,"div",7,1)(8,"ui-carpet",8,2),f.bIt("pointCreate",function(a){return f.eBV(o),f.Njj(i.onPointChange(a))})("afterDraw",function(a){return f.eBV(o),f.Njj(i.findArea(a))}),f.k0s()()}if(2&r){const o=f.sdS(7);f.R7$(),f.Y8G("multiple",!1),f.R7$(2),f.Y8G("ngIf",!i.imageSrc),f.R7$(),f.Y8G("ngIf",i.showInfo),f.R7$(),f.Y8G("ngIf",i.area),f.R7$(3),f.Y8G("carpetHeight",o.offsetHeight+"px")("carpetWidth",o.offsetWidth+"px")("imgSrc",i.imageSrc)}},dependencies:[Mt.bT,is,os.S,ss.Q,ke.YN,ke.BC,ke.vS],styles:["[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{padding:10px 0}[_nghost-%COMP%]   .d-flex-g10[_ngcontent-%COMP%]{display:flex;gap:10px}"],changeDetection:0})}return t})()},5872:(En,kt,V)=>{V.r(kt),V.d(kt,{DashboardComponent:()=>f.DashboardComponent,DrawComponent:()=>f.DrawComponent,PAGES_ROUTES:()=>oe,PagesComponent:()=>gt});var f=V(1697),D=V(1808),Mt=V(8677),ie=V(9134);let gt=(()=>{class et{constructor(){this.router=(0,D.WQX)(Mt.Ix),this._profile=(0,D.WQX)(ie.p)}logout(){this._profile.logout(),this.router.navigate(["/auth"])}static#t=this.\u0275fac=function(mt){return new(mt||et)};static#e=this.\u0275cmp=D.VBU({type:et,selectors:[["app-pages"]],standalone:!0,features:[D.aNF],decls:13,vars:4,consts:[[1,"sidebar"],[1,"navigation-items","active",3,"click"],[1,"navigation-items",3,"click"],[1,"navigation-items"],[1,"content"]],template:function(mt,lt){1&mt&&(D.j41(0,"div",0)(1,"div",1),D.bIt("click",function(){return lt.router.navigate(["/"])}),D.EFF(2," Home "),D.k0s(),D.j41(3,"div",2),D.bIt("click",function(){return lt.router.navigate(["/draw"])}),D.EFF(4," Draw "),D.k0s(),D.j41(5,"div",3),D.EFF(6,"Contact"),D.k0s(),D.j41(7,"div",3),D.EFF(8,"About"),D.k0s(),D.j41(9,"div",2),D.bIt("click",function(){return lt.logout()}),D.EFF(10,"Logout"),D.k0s()(),D.j41(11,"div",4),D.nrm(12,"router-outlet"),D.k0s()),2&mt&&(D.R7$(),D.AVh("active",lt.router.url.endsWith("/")),D.R7$(2),D.AVh("active",lt.router.url.endsWith("/draw")))},dependencies:[Mt.n3],styles:[".ui-button[_ngcontent-%COMP%]{min-width:100px;display:flex;justify-content:center;border-radius:7px;text-align:center}.ui-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;box-shadow:none}@keyframes _ngcontent-%COMP%_button-loading-spinner{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.ui-button[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}.ui-button[_ngcontent-%COMP%]:not(:disabled):hover{filter:brightness(95%)}.ui-button[_ngcontent-%COMP%]:disabled, .ui-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:1}.ui-button.ui-type-primary[_ngcontent-%COMP%]{color:#fff}.ui-button.ui-type-primary[_ngcontent-%COMP%], .ui-button.ui-type-primary[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #171717;background-color:#171717}.ui-button.ui-type-default[_ngcontent-%COMP%]{color:#171717}.ui-button.ui-type-default[_ngcontent-%COMP%], .ui-button.ui-type-default[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #171717;background-color:transparent}.ui-input[_ngcontent-%COMP%]{width:100%;min-width:200px;border:1px solid transparent;border-radius:7px;outline:none;border:1px solid #cfd6dd;box-shadow:0 1px 2px #1b242c1f}.ui-input[_ngcontent-%COMP%]:not(.ui-input-has-error):focus-within, .ui-input[_ngcontent-%COMP%]:not(.ui-input-has-error):active, .ui-input[_ngcontent-%COMP%]:not(.ui-input-has-error):hover{border-width:1px;border-color:#ff6715}.ui-input-has-error[_ngcontent-%COMP%]{border-width:1px;box-shadow:0 0 2px 1px #ff4646!important;border-color:transparent}.ui-input[_ngcontent-%COMP%]:disabled{opacity:.5}.sidebar[_ngcontent-%COMP%]{margin:0;padding:0;width:200px;background-color:#f1f1f1;position:fixed;height:100%;overflow:auto}.sidebar[_ngcontent-%COMP%]   .navigation-items[_ngcontent-%COMP%]{display:block;color:#171717;padding:16px;text-decoration:none;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .navigation-items.active[_ngcontent-%COMP%]{background-color:#ff6715;color:#fff}.sidebar[_ngcontent-%COMP%]   .navigation-items[_ngcontent-%COMP%]:hover:not(.active){background-color:#303d4a;color:#fff}div.content[_ngcontent-%COMP%]{margin-left:200px;padding:0 16px;height:100%}@media screen and (max-width: 700px){.sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.sidebar[_ngcontent-%COMP%]   .navigation-items[_ngcontent-%COMP%]{float:left}div.content[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 400px){.sidebar[_ngcontent-%COMP%]   .navigation-items[_ngcontent-%COMP%]{text-align:center;float:none}}"],changeDetection:0})}return et})();const oe=[{path:"",component:gt,children:[{path:"",loadComponent:()=>Promise.resolve().then(V.bind(V,1697)).then(et=>et.DashboardComponent)},{path:"draw",loadComponent:()=>Promise.resolve().then(V.bind(V,1697)).then(et=>et.DrawComponent)}]}]}}]);